<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" type="text/css" href="/articles/layui/css/layui.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vditor@3.6.3/dist/index.css" />
    <title th:text="${titleName}"></title>
    <div th:replace="component/head.html"></div>
    <script src="/articles/js/jquery-3.5.1.min.js"></script>
    <script src="/articles/js/jquery.pjax.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vditor@3.6.3/dist/index.min.js" defer></script>
</head>
<body>
<!--[if lt IE 9]>
<div class="browse-happy" role="dialog">当前网页 <strong>不支持</strong> 你正在使用的浏览器. 为了正常的访问, 请 <a href="https://browsehappy.com/">升级你的浏览器</a>.</div>
<![endif]-->
<div th:include="component/sidebar.html"></div>
<div id="top" class="animateIn">
    <div th:include="component/article-top.html"></div>
    <div class="scrollbar gradient-bg-rev" style="width: 0;"></div>
</div>
<div id="content-body" th:switch="${mark}">
    <div th:case="articles" th:include="articles.html"></div>
    <div th:case="article" th:include="article.html"></div>
    <div th:case="archives" th:include="archives.html"></div>
    <div th:case="articles-query" th:include="articles-query.html"></div>
    <div th:case="categories" th:include="categories.html"></div>
    <div th:case="tags" th:include="tags.html"></div>
</div>
<iframe th:replace="component/footer.html"></iframe>
<script th:inline="javascript">
    $(function(){
        $('body').pjax('a[href^="/articles"]:not(a[target="_blank"], a[not-pjax]), a[data-pjax]', {
                container: '#content-body',
                timeout: 8000
            }
        ).on('pjax:click', function() {
        }).on('pjax:send', function() {
            $(window).unbind('scroll')
            $(window).unbind('resize')
        }).on('pjax:complete', function() {
        }).on('pjax:end', function() {
            // 还原导航栏位置
            const top = $('#top')
            const toggleNav = $('#toggle-nav')
            const sidebarNav = document.getElementById("sidebar-nav")
            top.removeClass('animateOut')
            top.addClass('animateIn')
            toggleNav.removeClass('animateRight')
            toggleNav.addClass('animateLeft')
            if(sidebarNav.style.transform.length > 0) {
                document.getElementById("toggle-nav").style.transform = ''
                document.getElementById("footer").style.transform = ''
                sidebarNav.style.transform = ''
            }
        });

    });
</script>
</body>
</html>

