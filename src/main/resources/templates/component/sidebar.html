<div xmlns:th="http://www.thymeleaf.org">
    <div id="toggle-nav">
        <button class="nav-button" onclick="toggle()">MENU</button>
    </div>
    <div id="sidebar-nav">
        <div class="author navbar-header">
            <a href="/articles">
                <img th:src="'/articles/s/view/thumbnail?id='+${setting.avatar}" alt="Avatar" width="100" height="100">
            </a>
        </div>
        <ul id="menu-menu-1" class="menu navbar-nav">
            <li class="menu-item" onclick="toggle()">
                <a href="/">首页</a>
            </li>
            <li class="menu-item" th:if="${setting.isShowAlonePage('archives')}" onclick="toggle()">
                <a class="nav-link" href="/archives" title="归档">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-guidang"></use>
                    </svg>
                    <span class="nav-link-label">归档</span>
                </a>
            </li>
            <li class="menu-item" th:if="${setting.isShowAlonePage('categories')}" onclick="toggle()">
                <a class="nav-link" href="/categories" title="分类">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-fenlei"></use>
                    </svg>
                    <span class="nav-link-label">分类</span>
                </a>
            </li>
            <li class="nav-item" th:if="${setting.isShowAlonePage('tags')}" onclick="toggle()">
                <a class="nav-link" href="/tags" title="标签">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-tag"></use>
                    </svg>
                    <span class="nav-link-label">标签</span>
                </a>
            </li>
            <li class="menu-item" th:each="page : ${alonePages}" onclick="toggle()">
                <a class="nav-link" th:href="@{'/o/'+${page.slug}}" th:title="${page.name}">
                    <span class="nav-link-label" th:text="${page.name}"></span>
                </a>
            </li>
            <li class="menu-item" th:each="operatingButton : ${setting.operatingButtonList}" onclick="toggle()">
                <a th:href="${operatingButton.url}" target="_blank">
                    <i th:class="${operatingButton.style}"></i>
                    <span th:text="${{operatingButton.title}}"></span>
                </a>
            </li>
            <li onclick="toggle()">
                <a class="changeTheme">
                    <i th:if="${darkTheme}" class="fas fa-sun"></i>
                    <span th:if="${darkTheme}">亮色</span>
                    <i th:if="${!darkTheme}" class="fas fa-moon"></i>
                    <span th:if="${!darkTheme}">暗色</span>
                </a>
            </li>
        </ul>
    </div>
</div>
<script>
    function toggle() {
        let body = document.getElementById("body")
        let footer = document.getElementById("footer")
        let toggleNav = document.getElementById("toggle-nav")
        let sidebarNav = document.getElementById("sidebar-nav")
        if(body.style.transform.length > 0){
            body.style.transform = ''
            toggleNav.style.transform = ''
            sidebarNav.style.transform = ''
            footer.style.transform = ''
        } else {
            body.style.transform = 'translateX(17.5rem)'
            footer.style.transform = 'translateX(17.5rem)'
            toggleNav.style.transform = 'translateX(14.5rem)'
            sidebarNav.style.transform = 'translateX(17.5rem)'
        }
    }
</script>